# Use H2 dialect for tests, not PostgreSQL
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# Disable PostgreSQL-specific features
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop

# DISABLE FLYWAY FOR TESTS - PostgreSQL migrations won't work on H2
spring.flyway.enabled=false

# Other test settings
server.port=0
jwt.secret=testSecretKeyThatIsAtLeast32CharactersLongForTesting
jwt.expiration=86400000
spring.jmx.enabled=false

# CORS config for tests
spring.web.cors.allowed-origins=http://localhost:3000,http://localhost:3001

# Brevo Email Configuration (mock values for testing)
brevo.api.key=test-api-key
brevo.from.email=test@foodflow.com
brevo.from.name=FoodFlow Test

# Frontend URL for email links
frontend.url=http://localhost:3000

# OpenAI configuration for tests (avoid unresolved placeholders)
app.openai.api-key=test-openai-key

# Twilio SMS Configuration (mock values for testing)
twilio.account.sid=test-account-sid
twilio.auth.token=test-auth-token
twilio.phone.number=+15555555555

# Calendar Integration Configuration
calendar.encryption.key=${CALENDAR_ENCRYPTION_KEY:}
google.calendar.client-id=${GOOGLE_CALENDAR_CLIENT_ID}
google.calendar.client-secret=${GOOGLE_CALENDAR_CLIENT_SECRET}
google.calendar.redirect-uri=${GOOGLE_CALENDAR_REDIRECT_URI}
google.calendar.scopes=https://www.googleapis.com/auth/calendar
calendar.sync.enabled=true
calendar.sync.batch-size=10
calendar.sync.retry-attempts=3
calendar.sync.retry-delay-ms=1000